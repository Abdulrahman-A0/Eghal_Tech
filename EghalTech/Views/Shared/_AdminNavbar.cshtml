@{
    var currentController = ViewContext.RouteData.Values["Controller"]?.ToString();
    var currentAction = ViewContext.RouteData.Values["Action"]?.ToString();
}

<header class="admin-header">
    <div class="container">
        <div class="header-content">
            <div class="header-left">
                <div class="header-logo">
                    <a asp-action="Index" asp-controller="Home">
                        <span class="logo-red">Eghal</span><span class="logo-black">Tech Dashboard</span>
                    </a>
                </div>
            </div>
            
            <div class="header-right">
                <nav class="admin-nav">
                    <ul class="nav-menu">
                        @if (User.IsInRole("Admin"))
                        {
                            <li class="nav-item @(currentController == "Product" ? "active" : "")">
                                <a asp-controller="Product" asp-action="Index" class="nav-link">
                                    <i class="bi bi-box-seam"></i>
                                    Products
                                </a>
                            </li>
                            <li class="nav-item @(currentController == "Category" ? "active" : "")">
                                <a asp-controller="Category" asp-action="Index" class="nav-link">
                                    <i class="bi bi-tags"></i>
                                    Categories
                                </a>
                            </li>
                        }
                        else
                        {
                            <li class="nav-item @(currentController == "Review" ? "active" : "")">
                                <a asp-controller="Review" asp-action="Index" class="nav-link">
                                    <i class="bi bi-tags"></i>
                                    Reviews
                                </a>
                            </li>
                        }
                        <li class="nav-item @(currentController == "Order" ? "active" : "")">
                            <a asp-controller="Order" asp-action="Index" class="nav-link">
                                <i class="bi bi-cart-check"></i>
                                Orders
                            </a>
                        </li>
                    </ul>

                    <!-- Mobile Menu Toggle -->
                    <button class="mobile-menu-toggle" id="mobileMenuToggle">
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                    </button>
                </nav>
                <a asp-action="Index" asp-controller="Home" class="back-link">
                    <svg class="back-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="m15 18-6-6 6-6" />
                    </svg>
                    Back to Home
                </a>
            </div>
        </div>
    </div>
</header>

<!-- Mobile Navigation Overlay -->
<div class="mobile-nav-overlay" id="mobileNavOverlay">
    <div class="mobile-nav-content">
        <div class="mobile-nav-header">
            <div class="mobile-logo">
                <span class="logo-red">Eghal</span><span class="logo-black">Tech</span> Admin
            </div>
            <button class="mobile-nav-close" id="mobileNavClose">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        <ul class="mobile-nav-menu">
            @if (User.IsInRole("Admin"))
            {
                <li><a asp-controller="Product" asp-action="Index" class="mobile-nav-link @(currentController == "Product" ? "active" : "")"><i class="bi bi-box-seam"></i>Products</a></li>
                <li><a asp-controller="Category" asp-action="Index" class="mobile-nav-link @(currentController == "Category" ? "active" : "")"><i class="bi bi-tags"></i>Categories</a></li>
            }
            <li><a asp-controller="Order" asp-action="Index" class="mobile-nav-link @(currentController == "Order" ? "active" : "")"><i class="bi bi-cart-check"></i>Orders</a></li>
        </ul>
    </div>
</div>
